= Living Docs || Documentation as Code
Serhii Prodanov, Senior Managing Consultant, Cegal AS
:autofit-option:
:revealjs_theme: black
:revealjs_customtheme: white_theme.css
:revealjs_slideNumber:
:revealjs_history:
:revealjs_progress:
:encoding: UTF-8
:lang: eng
include::_doc_general_attributes.adoc[]
:doctype: article
:toclevels: 3
:imagesdir: images
:source-highlighter: highlightjs
:highlightjsdir: highlight
:icons: font
:iconfont-remote!:
:iconfont-name: font-awesome-4.7.0/css/font-awesome
:revealjs_mouseWheel: true
:revealjs_center: false
:revealjs_transition: none
:revealjs_width: 1960
:revealjs_height: 1000
:stem: latexmath

//== Часть 1. Введение
:!figure-caption:

icon:envelope[size=lg] sergei.prodanov@cegal.com

icon:github[size=lg] https://github.com/serpro69[github.com/serpro69]

//[%notitle]
== `$ echo whoami`

[cols="30a,70a"]
|===
|image::me.jpg[]
|
* icon:cogs[] DevOps, CI/CD, DevXP https://elhub.no[@Elhub] / NoE Lead https://cegal.com[@Cegal] by day
** icon:bug[] Quality Engineer by calling
** Searching for The Ultimate Question by night
* icon:github[] Open-source advocate
* Automating all things with icon:heart[] and TDD (icon:coffee[] tea driven development icon:wrench[])
* "`Everything as icon:file-code-o[] code`" evangelist
* In the past:
** Elhub – a ton of test automation and some cloud platform development
** Accenture (Latvia) – test automation team lead (Big Data)
** TCS (India) – test automation, test lead/mentor
** ...a bunch of other things
* Fun fact: some people call me Sergio
|===

== Everything you see here is on GitHub

[cols=">30,70a"]
|===
|icon:github-alt[size=3x]
|* Slides: https://serpro69.github.io/documentation-as-code[serpro69.github.io/documentation-as-code]
* Source: https://github.com/serpro69/documentation-as-code[github.com/serpro69/documentation-as-code]
|===

== PLAN

* What? (...is the problem)
* Why? (...does it happen)
* How? (...to solve it)

[%notitle]
== Disclaimer

[NOTE]
====
This presentation is not about the tools.

> A tool is just a tool, it's the principles that matter.
====

[%notitle]
== Disclaimer

[NOTE]
====
It’s also not about "Living Documentation" that comes from BDD.

But it is about **keeping the documentation alive.**
====

[transition="fade-out, slide-in"]
== What?

[cols="40a,60a"]
|===
|{empty}
.^|image::self_documenting_code.png[{image-50-width}]
|===

[transition="fade-in, fade-out"]
== What?

[cols="40a,60a"]
|===
|[%step]
* Hard to find
* Out-of-Date
* Misleading
* Hard to read/understand
* Incomplete
* Lacking altogether

.^|image::documentation_is_key.png[{image-50-width}]
|===

== If it isn't documented – it doesn't exist

> **"If it isn't documented, it doesn't exist."** Not only does it have to be doc'd, but it was to be explained and taught and demonstrated. Do that, and people will be excited -- not about your documentation, but about your product.{empty}footnote:[http://www.mikepope.com/blog/DisplayBlog.aspx?permalink=1680]

== Lack of documentation is the reason good libraries fail

> "Lack of documentation. No matter how wonderful your library is and how intelligent its design, **if you're the only one who understands it, it doesn't do any good**. Documentation means not just autogenerated API references, but also annotated examples and in-depth tutorials. You need all three to make sure your library can be easily adopted."
(Nicholas Zakas, the number one reason why good JavaScript libraries fail)

> There's one other thing which can really make or break a JavaScript library, and it's surprising how often it's overlooked, because **the same thing makes or breaks an awful lot of software in other fields: documentation**. The greatest library in the world would fail if the only way to learn it was reading the code. **There is absolutely no substitute for full, well-written documentation.**
(James Bennett, https://www.b-list.org/weblog/2007/jan/22/choosing-javascript-library/[choosing a JavaScript library])

== "Did you read the docs before opening this issue?"

image:open-an-issue_vs_read-the-docs.png[width="250%"]

== But why don't people read the docs?

// TODO leave empty?

== How many confluence bookmarks do you have?

WARNING: **If you need to bookmark confluence pages, it's because they're hard to find**

[cols="33a,33a,33a"]
|===
|image:mscott_what_do_you_use_confluence_for.png[]
|image:dwight_to_keep_secrets.png[]
|image:mscott_surprise.png[]
|===

== Where documentation lives?

[cols="30a,70a"]
|===
<|
* Code
* Confluence
* Jira
* Code Reviews
* E-mails
* Teams
* Whiteboards
|
|===

== Confluence Is Where Documentation Goes To Die

The one thing you can be sure of if you're using Confluence to document your software is that, **given time, any documentation you have written on Confluence will be hopelessly out of date.**

== Lack of Trust `==` Significantly Reduced Value

[cols="60a,40a"]
|===
|
* The moment your documentation starts to be **out of date** - it **starts loosing its value**.
* When **developers don't trust** that the **documentation** reflects the true "state of the world", they also **stop relying on it**, and hence, **stop improving it** as well.
** And thus the cycle goes on and on.
* **Out of date documentation can sometimes be worse than no documentation**, leading you on a confusing multi-day expeditions as you try to understand the codebase while comparing it to outdated docs.

>|image:a_new_developer.png[{image-80-width}]
|===

== "`Great software does not need documentation`" (...or tests)

[cols="80a,25a"]
|===
|
You don’t write documentation for yourself.

You write it for the new team member who’s joining soon, your future replacement, and even for your poor future self.

In 6-months you are going to look at the code you're working on now and think: _"Who the hell wrote this and what does it even mean?"_

(_spoiler: It was you who wrote it_)
|{empty}
|===

image::still_working_on_the_goat_head_issue.png[width="200%"]

== Why?

[cols="60a,40a"]
|===
>|
>|image:uncle_sam_needs_your_docs.png[]
|===

== Common Causes

[cols="40a,10,50a"]
|===
|
* Outside of normal workflow
* Requires different skillset
* Frequent code changes
* Time pressure
* Lack of interest
* Laziness

>|{empty}

>| image:now_you_can_start_with_documentation.png[]
|===

== Confluence – A Documentation Graveyard 2.0

[cols="80a,35a"]
|===
|
**One of the reasons why Confluence ends up being a graveyard for docs is that it is outside the normal software development workflow.**

Only after the code is merged do you remember (that is, if you remember) to go to this separate place, and only then you start thinking about how to document what you had already released.

Doesn't all of this seem backwards to you?
|
|===

== What makes good documentation?

* High-level architecture designs.
* High-level overviews of each part of the library, touching on key objects and methods.
* Practical examples showing how to handle common use cases.
* Full API documentation for all public functionality.
* Internal functionality should ideally be also documented to help contributors understand the code better.
* Comments throughout the code.

== How?

[%step]
* Put your documentation **in source control with the code** it is describing
* **Ask for documentation updates in pull requests** when it’s appropriate, just like you would expect tests for a code change
* Create a **documentation style guide** for your team to follow
** "Every big architectural decision must be recorded in as an ADR"
(icon:info-circle[] _ADRs are also stored with the code they are related to_)
** "Every repo needs a high level architecture diagram describing the main data structures and processes”
** "Every repo must have a README with A, B, C sections"
** "Every repo must have API documentation"
** ...

[transition="fade-out, slide-in"]
== An example of a well-documented software

[transition="fade-in, fade-out"]
== An example of a well-documented software

image::cypress_why.png[]

[transition="fade-in, fade-out"]
== An example of a well-documented software

image::cypress_guides.png[]

[transition="fade-in, fade-out"]
== An example of a well-documented software

image::cypress_api.png[]

[transition="fade-in, fade-out"]
== An example of a well-documented software

image::cypress_plugins.png[]

[transition="fade-in, fade-out"]
== An example of a well-documented software

image::cypress_examples.png[]

[transition="fade-in, fade-out"]
== An example of a well-documented software

image::cypress_testing_strategies.png[]

[transition="fade-in, fade-out"]
== An example of a well-documented software

image::cypress_cicd.png[]

== What if I told you

image::morpheus.png[width="80%"]

== The Problem

[cols="60a,48a"]
|===
|How do we keep the documentation with the source code, and at the same time make it accessible to everyone?
|
|===

[transition="fade-out, slide-in"]
== The Solution

[transition="fade-in, fade-out"]
== The Solution

**Markdown**

[transition="fade-in, fade-out"]
== Markdown

[%step]
* Viewable / Editable in any text editor
* Very readable even when opened in a notepad
* Platform-agnostic, plaintext, and zero-dependencies on external software
* Easier to write than HTML
* Eeasily converted to HTML
* Can be used by anyone, not just developers

[transition="fade-out, slide-in"]
== Why not another markup syntax?

[cols="70a,30a"]
|===
|**What distinguishes Markdown** from many other lightweight markup syntaxes, which are arguably often easier to write, **is its readability**.
|{empty}
|===

[transition="fade-in, fade-out"]
== Why not another markup syntax?

[cols="70a,30a"]
|===
|
.As Gruber writes:
> The overriding design goal for Markdown’s formatting syntax is to make it as readable as possible. The idea is that a Markdown-formatted document should be publishable as-is, as plain text, without looking like it’s been marked up with tags or formatting instructions. (http://daringfireball.net/projects/markdown/)
|{empty}
|===

== Markdown vs. Asciidoc

image::markdown_vs_asciidoc.png[]

== What next?

We have a few dozen docs written in markdown which are stored with the code.
So now what?

== Static Site Generation

[cols="30a,70a"]
|===
|
* Jekyll
* HUGO
* Hexo
* Docusaurus
* Eleventy
* ...
|{empty}
|===

== Ease of Use

[cols="70a,30a"]
|===
|
Whichever tool you pick, it should have a very low entry threshold...

\...for everyone who is going to use it, not just a small group of devs
|image::reuse.png[]
|===

